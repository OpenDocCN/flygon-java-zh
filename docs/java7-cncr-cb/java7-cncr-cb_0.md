# 前言

当您使用计算机时，可以同时进行多项任务。您可以在编辑器中编辑文档并听音乐，同时阅读电子邮件。这是因为您的操作系统允许任务并发。并发编程涉及平台提供的元素和机制，使多个任务或程序同时运行并相互通信以交换数据或相互同步。Java 是一个并发平台，并提供了许多类来在 Java 程序中执行并发任务。随着每个版本的更新，Java 增加了为程序员提供的功能，以便更轻松地开发并发程序。本书涵盖了 Java 并发 API 第 7 版中包含的最重要和有用的机制，因此您将能够直接在应用程序中使用它们，具体包括：

+   基本线程管理

+   线程同步机制

+   使用执行器进行线程创建和管理委托

+   Fork/Join 框架以增强应用程序的性能

+   并发程序的数据结构

+   调整一些并发类的默认行为以满足您的需求

+   测试 Java 并发应用程序

# 本书涵盖的内容

第一章 *线程管理* 将教读者如何对线程进行基本操作。通过基本示例，解释了线程的创建、执行和状态管理。

第二章 *基本线程同步* 将教读者如何使用 Java 的低级机制来同步代码。详细解释了锁和 `synchronized` 关键字。

第三章 *线程同步工具* 将教读者如何使用 Java 的高级工具来管理 Java 中线程之间的同步。其中包括如何使用新的 Java 7 `Phaser` 类来同步分阶段的任务。

第四章 *线程执行器* 将教读者将线程管理委托给执行器。它们允许运行、管理和获取并发任务的结果。

第五章 *Fork/Join 框架* 将教读者如何使用新的 Java 7 Fork/Join 框架。这是一种特殊类型的执行器，旨在使用分而治之的技术将任务分解为更小的任务。

第六章 *并发集合* 将教读者如何使用 Java 语言提供的一些并发数据结构。这些数据结构必须在并发程序中使用，以避免在其实现中使用同步代码块。

第七章 *自定义并发类* 将教读者如何调整 Java 并发 API 中一些最有用的类以满足其需求。

第八章 *测试并发应用程序* 将教读者如何获取有关 Java 7 并发 API 中一些最有用结构状态的信息。读者还将学习如何使用一些免费工具来调试并发应用程序，例如 Eclipse、NetBeans IDE 或 FindBugs 应用程序，以检测其应用程序可能存在的错误。

*第九章* *附加信息* 不包含在书中，但可以从以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/Additional`](http://www.packtpub.com/sites/default/files/downloads/Additional)

本章将教读者同步、执行器和 Fork/Join 框架的概念，以及并发数据结构和监视并发对象的内容，这些内容在各自的章节中没有包含。

*附录*，*并发编程设计*不在书中，但可以从以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/Concurrent`](http://www.packtpub.com/sites/default/files/downloads/Concurrent)

本附录将教读者一些每个程序员在开发并发应用程序时应考虑的技巧。

# 您需要为本书做好准备的内容

要跟进本书，您需要对 Java 编程语言有基本了解。您应该知道如何使用 IDE，比如 Eclipse 或 NetBeans，但这不是必要的先决条件。

# 本书适合谁

如果您是一名 Java 开发人员，希望进一步了解并发编程和多线程的知识，以及发现 Java 7 的新并发特性，那么*Java 7 并发烹饪书*就是为您准备的。您应该已经熟悉一般的 Java 开发实践，并且对线程有基本的了解会是一个优势。

# 约定

在本书中，您将找到一些不同类型信息的文本样式。以下是一些这些样式的示例，以及它们的含义解释。

文本中的代码词显示如下：“扩展`Thread`类并重写`run()`方法”。

代码块设置如下：

```java
  public Calculator(int number) {
    this.number=number;
  }
```

**新术语**和**重要词汇**以粗体显示。例如，屏幕上看到的单词，比如菜单或对话框中的单词，会以这样的方式出现在文本中：“在菜单栏的**文件**菜单中选择**新建项目**选项创建新项目”。

### 注意

警告或重要说明会以这样的方式出现在方框中。

### 提示

提示和技巧会以这样的方式出现。

# 读者反馈

我们始终欢迎读者的反馈。让我们知道您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们开发您真正受益的标题非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在消息主题中提及书名。

如果您对某个专题有专业知识，并且有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.PacktPub.com`](http://www.PacktPub.com)购买的所有 Packt 书籍中下载示例代码文件。如果您在其他地方购买了本书，您可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)并注册，以便将文件直接发送到您的电子邮件。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误是难免的。如果您在我们的书中发现错误——可能是文本或代码中的错误——我们将不胜感激地希望您向我们报告。通过这样做，您可以帮助其他读者避免挫败，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/support`](http://www.packtpub.com/support)报告，选择您的书，点击**勘误提交表**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站上，或者添加到该标题的勘误列表中的任何现有勘误下的勘误部分。您可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看任何现有的勘误。

## 盗版

互联网上侵犯版权材料的盗版问题是跨媒体持续存在的问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供地址或网站名称，以便我们采取补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢您帮助保护我们的作者，以及我们为您提供有价值内容的能力。

## 问题

如果您在阅读本书的过程中遇到任何问题，请通过`<questions@packtpub.com>`与我们联系，我们将尽力解决。
