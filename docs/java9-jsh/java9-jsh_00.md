# 前言

Java 绝对是本世纪最流行的编程语言之一。然而，每当我们需要快速探索新的算法或新的应用领域时，Java 并没有为我们提供一种简单的执行代码片段并打印结果的方式。由于这种限制，许多开发人员开始使用其他提供 REPL（读取-求值-打印-循环）实用程序的编程语言，如 Scala 和 Python。然而，许多时候，在探索阶段结束并且需求和算法清晰之后，需要回到 Java。

Java 9 引入了 JShell，一个新的实用程序，允许我们轻松运行 Java 9 代码片段并打印结果。这个实用程序是一个 REPL，使我们能够像开发者在 Scala 和 Python 中那样轻松地使用 Java。JShell 使学习 Java 9 及其最重要的特性变得更容易。

面向对象编程，也称为 OOP，是每个现代软件开发人员工作中必备的技能。这是非常有道理的，因为 OOP 允许您最大化代码重用并最小化维护成本。然而，学习面向对象编程是具有挑战性的，因为它包含太多抽象概念，需要现实生活的例子才能容易理解。此外，不遵循最佳实践的面向对象代码很容易变成维护的噩梦。

Java 是一种多范式编程语言，其中最重要的范式之一是面向对象编程。如果你想要使用 Java 9，你需要掌握 Java 中的面向对象编程。此外，由于 Java 9 还吸收了函数式编程语言中的一些优秀特性，因此了解如何将面向对象编程代码与函数式编程代码相结合是很方便的。

本书将使您能够使用 JShell 在 Java 9 中开发高质量可重用的面向对象代码。您将学习面向对象编程原则以及 Java 9 如何实现它们，结合现代函数式编程技术。您将学习如何从现实世界元素中捕捉对象并创建代表它们的面向对象代码。您将了解 Java 对面向对象代码的处理方式。您将最大化代码重用并减少维护成本。您的代码将易于理解，并且将与现实生活元素的表示一起工作。

此外，你将学习如何使用 Java 9 引入的新模块化功能组织代码，并准备创建复杂的应用程序。

# 本书内容包括

《第一章》*JShell – A Read-Evaluate-Print-Loop for Java 9*，开始我们的 Java 9 面向对象编程之旅。我们将学习如何启动并使用 Java 9 中引入的新实用程序：JShell，它将允许我们轻松运行 Java 9 代码片段并打印其结果。这个实用程序将使我们更容易学习面向对象编程。

《第二章》*Real-World Objects to UML Diagrams and Java 9 via JShell*，教我们如何从现实生活中识别对象。我们将了解使用对象编程更容易编写易于理解和重用的代码。我们将学习如何识别现实世界的元素，并将它们转化为 Java 支持的面向对象范式的不同组件。我们将开始使用 UML（统一建模语言）图表组织类。

第三章，“类和实例”，展示了类代表生成对象的蓝图或模板，这些对象也被称为实例。我们将设计一些代表现实对象蓝图的类。我们将学习对象的生命周期。我们将使用许多示例来理解初始化的工作原理。我们将声明我们的第一个类来生成对象的蓝图。我们将定制其初始化并在 JShell 中的实时示例中测试其个性化行为。我们将了解垃圾回收的工作原理。

第四章，“数据的封装”，教会你 Java 9 中类的不同成员以及它们如何反映在从类生成的实例的成员中。我们将使用实例字段、类字段、设置器、获取器、实例方法和类方法。我们将使用设置器和获取器生成计算属性。我们将利用访问修饰符隐藏数据。我们将使用静态字段创建所有类实例共享的值。

第五章，“可变和不可变类”，介绍了可变对象和不可变对象之间的区别。首先，我们将创建一个可变类，然后我们将构建这个类的不可变版本。我们将学习在编写并发代码时不可变对象的优势。

第六章，“继承、抽象、扩展和特化”，讨论了如何利用简单继承来专门化或扩展基类。我们将从上到下设计许多类，并使用链式构造函数。我们将使用 UML 图设计从另一个类继承的类。我们将在交互式 JShell 中编写类。我们将重写和重载方法。我们将运行代码以了解我们编写的所有东西是如何工作的。

第七章，“成员继承和多态”，教你如何控制子类是否可以覆盖成员。我们将利用最激动人心的面向对象特性之一：多态性。我们将利用 JShell 轻松理解类型转换。我们将声明执行与类实例操作的方法。

第八章，“接口的契约编程”，介绍了接口在 Java 9 中与类结合的工作原理。在 Java 9 中实现多重继承的唯一方法是通过接口的使用。我们将学习声明和组合多个蓝图以生成单个实例。我们将声明具有不同类型要求的接口。然后，我们将声明许多实现创建的接口的类。我们将结合接口和类以利用 Java 9 中的多重继承。我们将结合接口的继承和类的继承。

第九章，“接口的高级契约编程”，深入探讨了接口的契约编程。我们将使用接口作为参数的方法。我们将理解接口和类的向下转型，并将接口类型的实例视为不同的子类。JShell 将帮助我们轻松理解类型转换和向下转型的复杂性。我们将处理更复杂的场景，将类继承与接口继承相结合。

第十章，“泛型的代码重用最大化”，介绍了如何使用参数多态性。我们将学习如何通过编写能够处理不同类型对象的代码来最大化代码重用，即能够处理实现特定接口的类的实例或者其类层次结构包括特定超类的实例。我们将使用接口和泛型。我们将创建一个可以处理受限泛型类型的类。我们将利用泛型为多种类型创建一个泛型类。

第十一章，“高级泛型”，深入探讨了参数多态性。我们将声明一个可以使用两个受限泛型类型的类。我们将在 JShell 中使用具有两个泛型类型参数的泛型类。我们将利用 Java 9 中的泛型来泛化现有的类。

第十二章，“面向对象，函数式编程和 Lambda 表达式”，讨论了函数在 Java 9 中是一等公民。我们将在类中使用函数接口。我们将使用 Java 9 中包含的许多函数式编程特性，并将它们与我们在前几章中学到的关于面向对象编程的知识相结合。这样，我们将能够兼顾两者的优势。我们将分析许多算法的命令式和函数式编程方法之间的差异。我们将利用 lambda 表达式，并将 map 操作与 reduce 结合起来。

第十三章，“Java 9 中的模块化”，将所有面向对象的拼图拼在一起。我们将重构现有代码以利用面向对象编程。我们将理解 Java 9 中模块化源代码的用法。我们将使用模块创建一个新的 Java 9 解决方案，使用 Java 9 中的新模块化组织面向对象的代码，并学习许多调试面向对象代码的技巧。

# 你需要为这本书做什么

你需要一台双核 CPU 和至少 4GB RAM 的计算机，能够运行 JDK 9 Windows Vista SP2，Windows 7，Windows 8.x，Windows 10 或更高版本，或者 macOS 10.9 或更高版本，以及 JDK 9 支持的任何 Linux 发行版。任何能够运行 JDK 9 的 IoT 设备也将很有用。

# 这本书是为谁准备的

这本书可以被任何计算机科学专业的毕业生或刚开始从事软件工程师工作的人理解。基本上，对于像 Python、C++或者早期的 Java 版本这样的面向对象编程语言的理解就足够了。参与过完整的软件工程项目周期将是有帮助的。

# 约定

在这本书中，你会发现一些文本样式，用来区分不同类型的信息。以下是一些样式的例子，以及它们的含义。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下：文本中的代码单词显示如下：“JShell 允许我们调用`System.out.printf`方法轻松格式化我们要打印的输出。”

代码块设置如下：

```java
double getGeneratedRectangleHeight() {
    final Rectangle rectangle = new Rectangle(37, 87);
    return rectangle.height; 
}
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目以粗体显示：

```java
double getGeneratedRectangleHeight() {
    final Rectangle rectangle = new Rectangle(37, 87);
    return rectangle.height; 
}
```

任何命令行输入或输出都以以下形式编写：

```java
javac -version

```

**新术语**和**重要单词**以粗体显示。例如，屏幕上看到的单词，菜单或对话框中的单词会以这样的形式出现在文本中：“单击**接受**，然后单击**退出**。”

### 注意

警告或重要说明会以这样的形式出现在框中。

### 提示

提示和技巧会以这样的形式出现。

# 读者反馈

我们始终欢迎读者的反馈。让我们知道您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们开发您真正受益的标题非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在消息主题中提及书名。

如果您在某个专题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册以直接将文件发送到您的电子邮件。

您可以按照以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册到我们的网站。

1.  将鼠标指针悬停在顶部的**支持**选项卡上。

1.  单击**代码下载和勘误**。

1.  在**搜索**框中输入书名。

1.  选择您要下载代码文件的书籍。

1.  从下拉菜单中选择您购买本书的地方。

1.  单击**代码下载**。

您还可以通过单击 Packt Publishing 网站上书籍页面上的**代码文件**按钮来下载代码文件。可以通过在**搜索**框中输入书名来访问该页面。请注意，您需要登录您的 Packt 帐户。

下载文件后，请确保使用最新版本的解压缩或提取文件夹：

+   WinRAR / 7-Zip for Windows

+   Zipeg / iZip / UnRarX for Mac

+   7-Zip / PeaZip for Linux

该书的代码包也托管在 GitHub 上[`github.com/PacktPublishing/Java-9-with-JShell`](https://github.com/PacktPublishing/Java-9-with-JShell)。我们还有其他代码包来自我们丰富的图书和视频目录，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)上找到。去看看吧！

## 下载本书的彩色图片

我们还为您提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图片。彩色图片将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/Java9withJShell_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/Java9withJShell_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽最大努力确保内容的准确性，但错误还是会发生。如果您在我们的书籍中发现错误——可能是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站或添加到该书籍的勘误列表中的**勘误**部分。

要查看先前提交的勘误表，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需信息将显示在**勘误表**部分下。

## 盗版

互联网上盗版受版权保护的材料是一个持续存在的问题，涉及各种媒体。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并附上涉嫌盗版材料的链接。

我们感谢您帮助保护我们的作者和我们为您提供有价值内容的能力。

## 问题

如果您对本书的任何方面有问题，可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决问题。
